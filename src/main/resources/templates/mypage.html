<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" th:href="@{/css/mypage.css}" type="text/css">
<link rel="stylesheet" th:href="@{/css/home.css}" type="text/css">
<link rel="stylesheet" th:href="@{/css/app.css}" type="text/css">
<title>マイページ</title>
</head>
<body>
	<div th:include="app :: frag_header_logout"></div>
	<div align="center">
		<h1>投稿した記事一覧</h1>
		<form th:action="@{/edit}" method="post">
			<table class="mypage">
				<thead>
					<tr>
						<th>タイトル</th>
						<th>投稿日時</th>
						<th>編集</th>
						<th>削除</th>
					</tr>
				</thead>
				<tbody>
				
					<tr th:each="obj : ${articlesList}" th:if="${obj.delete_flag == 0}">
						<td><a th:href="@{/articlesShow(id=${obj.id})}"
							th:text="${obj.title}" id="title"></a></td>
						<td th:text="${obj.created_at}"></td>
						<form th:action="@{/edit}" method="post">
						<td>

							<button type="submit" name="action" value="edit">編集</button> <input
							type="hidden" th:value="${obj.id}" name="articleId" />

						</td>
						<td>
							<button type="submit" name="action" value="delete">削除</button>
						</td>
						</form>
					</tr>
				</tbody>
			</table>
		</form>
	</div>

	<script src="/javascript/home.js"></script>
	<script src="/javascript/category.js"></script>
	<script src="/javascript/title.js"></script>
</body>
</html>